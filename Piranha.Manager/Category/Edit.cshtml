@* Generator: WebPage *@

@inherits Piranha.Manager.Templates.CategoryEdit
@{
    Layout = "~/Manager/Shared/_Layout.cshtml" ;
}
@section Toolbar {
<div class="toolbar">
    <div class="inner">
        <ul>
            <li><a class="save submit">@Piranha.Manager.Resources.Toolbar.Save</a></li>
            <li><a href="@Href("~/manager/category/edit/delete/" + Model.Category.Id)" class="delete">@Piranha.Manager.Resources.Toolbar.Delete</a></li>
            <li><a href="@Href("~/manager/category")" class="back">@Piranha.Manager.Resources.Toolbar.Back</a></li>
            <li><a href="@Href("~/manager/category/edit/" + Model.Category.Id)" class="refresh">@Piranha.Manager.Resources.Toolbar.Reload</a></li>
        </ul>
        <div class="clear"></div>
    </div>
</div>
}
<form method="post">
    @Form.Action("Save")
    @Form.HiddenFor(m => m.Category.Id)
    @Form.HiddenFor(m => m.Category.ParentId)
    @Form.HiddenFor(m => m.Category.PermalinkId)
    @Form.HiddenFor(m => m.Category.Permalink.Id)
    @Form.HiddenFor(m => m.Category.Permalink.NamespaceId)
    <div class="grid_12">
        <div class="box">
            <div class="title"><h2>@Piranha.Manager.Resources.Global.Information</h2></div>
            <div class="inner">
                <ul class="form">
                    <li>
                        @Form.LabelFor(m => m.Category.Name, Piranha.Manager.Resources.Global.Name)
                        <div class="input">
                            @Form.TextBoxFor(m => m.Category.Name)</div>
                        @Form.ValidationMessageFor(m => m.Category.Name)
                    </li>
                    <li class="protected">
                        @Form.LabelFor(m => m.Category.Permalink, Piranha.Manager.Resources.Global.Permalink)
                	    @if (Model.Category.Id != Guid.Empty) {
                        <p>@UI.AbsoluteUrl(UI.Permalink(Model.Category.PermalinkId).ToString())</p>
                        } else {
                        <p><i>@Piranha.Manager.Resources.Category.PermalinkDescription</i></p>
                        }
                        <div class="input">
                            @Form.TextBoxFor(m => m.Category.Permalink.Name)</div>
                        <a class="locked"></a>
                    </li>
                    <li>
                        @Form.LabelFor(m => m.Category.Description, Piranha.Manager.Resources.Global.Description)
                        <div class="input">
                            @Form.TextAreaFor(m => m.Category.Description)</div>
                    </li>
                </ul>
            </div>
        </div>
        @if (Model.Extensions.Count > 0) {
        }
    </div>
</form>
