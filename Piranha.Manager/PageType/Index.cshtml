@* Generator: WebPage *@

@inherits Piranha.WebPages.ContentPage<Piranha.Manager.Models.PageTypeListModel>
@{
    if (!User.HasAccess("ADMIN_PAGE_TEMPLATE")) {
        Response.Redirect("~/manager/account") ;
    }
    
    Page.Title = @Piranha.Manager.Resources.PageType.ListTitle ;
    Layout = "~/Manager/Shared/_Layout.cshtml" ;
    
    if (Piranha.Manager.Hooks.PageTypeListModelLoaded != null) {
        Piranha.Manager.Hooks.PageTypeListModelLoaded(this, Piranha.Manager.Menu.GetActiveMenuItem(), Model) ;
    }
}
@section Head {
    <script type="text/javascript">
        $(document).ready(function() {
            $(".delete").click(function() {
                return confirm("@Piranha.Manager.Resources.PageType.MessageDeleteConfirm") ;
            });

            var options = {
                listClass:  'list-js',
                searchId: 'search',
                valueNames: ['name', 'created', 'updated']
            };
            new List('list', options);
        });
    </script>
}
@section Toolbar { 
<div class="toolbar">
    <div class="inner">
        <ul>
            <li><a href="@Href("~/manager/pagetype/edit")" class="add">@Piranha.Manager.Resources.Toolbar.Add</a></li>
            <li><a href="@Href("~/manager/pagetype")" class="refresh">@Piranha.Manager.Resources.Toolbar.Reload</a></li>
        </ul>
        <button class="search" title="@Piranha.Manager.Resources.Toolbar.Search"></button>@Html.TextBox("search")
        <div class="clear"></div>
    </div>
</div>
}
<div class="grid_12">
    <table id="list" class="list">
        <thead>
            <tr>
                <th><span class="sort asc" data-sort="name">@Piranha.Manager.Resources.Global.Name</span></th>
                <th><span class="sort" data-sort="created">@Piranha.Manager.Resources.Global.Created</span></th>
                <th><span class="sort" data-sort="updated">@Piranha.Manager.Resources.Global.Updated</span></th>
                <th></th>
            </tr>
        </thead>
        <tbody class="list-js">
            @foreach (var pt in Model.Templates) {
            <tr>
                <td class="name"><a href="@Href("~/manager/pagetype/edit/" + pt.Id)">@pt.Name</a></td>
                <td class="created date">@pt.Created.ToString("yyyy-MM-dd")</td>
                <td class="updated date">@pt.Updated.ToString("yyyy-MM-dd")</td>
                <td class="buttons one">
                    <a class="icon delete" title="@Piranha.Manager.Resources.PageType.ListDelete" href="@Href("~/manager/pagetype/edit/delete/" + pt.Id)"></a></td>
            </tr>
            }
        </tbody>
    </table>
</div>
