@model Piranha.Models.Manager.ContentModels.ListModel
@{
    ViewBag.Title = @Piranha.Resources.Content.ListTitle ;
    ViewBag.Selected = "Cms" ;
    ViewBag.SelectedTab = "Content" ;
}
@section Head {
    <script type="text/javascript">
        $(document).ready(function () {
            // Setup template list
            var options = {
                listClass: 'list-js',
                searchId: 'search',
                valueNames: ['filename', 'type', 'updated', 'created']
            };
            var list = new List('list', options);
        });
    </script>
}
@section Toolbar { 
@Html.Partial("Partial/TabsContent")
<div class="toolbar">
    <div class="inner">
        <ul>
            <li><a href="@Url.Action("edit")" class="add""></a>
                <div class="tooltip"><p>@Piranha.Resources.Content.ToolbarAdd</p></div></li>
            <li><a href="@Url.Action("index")" class="refresh"></a>
                <div class="tooltip"><p>@Piranha.Resources.Global.ToolbarReload</p></div></li>
            <li><a class="info"></a>
                <div class="tooltip"><p>@Piranha.Resources.Global.ToolbarHelp</p></div></li>
        </ul>
        @using (Html.BeginForm("Search", "Page")) {
            <button class="search" title="@Piranha.Resources.Global.ToolbarSearch"></button>@Html.TextBox("search")
        }
        <div class="clear"></div>
    </div>
</div>
}
<div class="grid_12">
    <table id="list" class="list tabbed">
        <thead>
            <tr>
                <th class="thumb"></th>
                <th><span class="sort asc" data-sort="filename">@Piranha.Resources.Content.Filename</span></th>
                <th class="date"><span class="sort" data-sort="type">@Piranha.Resources.Global.Type</span></th>
                <th class="date"><span class="sort" data-sort="updated">@Piranha.Resources.Global.Updated</span></th>
                <th class="one"><span class="one sort" data-sort="created">@Piranha.Resources.Global.Created</span></th>
                <th></th>
            </tr>
        </thead>
        <tbody class="list-js">
            @foreach (var content in Model.Content) {
            <tr>
                <td><img src="@Url.Content("~/thumb/" + content.Id + "/50")" alt="@content.AlternateText" /></td>
                <td class="filename"><a href="@Url.Action("edit", new { id = content.Id })">@content.Filename</a></td>
                <td class="type">@content.Type</td>
                <td class="updated">@content.Updated.ToString("yyyy-MM-dd")</td>
                <td class="created">@content.Created.ToString("yyyy-MM-dd")</td>
                <td class="buttons">
                    <a href="@Url.Action("delete", new { id = content.Id })" title="@Piranha.Resources.Content.ListDelete" class="icon delete"></a></td>
            </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <td colspan="6"></td>
            </tr>
        </tfoot>
    </table>
</div>
